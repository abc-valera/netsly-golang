#!/usr/bin/bash

echo "Running pre-commit script...â³"

# TODO: maybe add linters here

# Run the tests
if ! task test:unit; then
    echo "Unit tests failed ğŸš«"
    exit 1
fi

if ! task test:integration; then
    echo "Integration tests failedğŸš«"
    exit 1
fi

# Run go mod tidy
go mod tidy
git add go.mod go.sum

echo "Pre-commit checks passed!âœ…"
exit 0
